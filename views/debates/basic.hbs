{{#> head title='Basic debate' subtitle='Basic debate' type='basic' }}
{{/head}}

<body class="debate-basic">
    {{> user/header username=user.username }}

    {{> components/heading/topper debateType=debateType title=title description=description }}

    {{> debates/basic/status debateOpen=debateOpen votingOpen=votingOpen }}

    {{#ifNotThisOrThat commentsAgainst commentsFor}}
    {{> components/heading/promo}}
    {{/ifNotThisOrThat}}

    {{#ifThisOrThat commentsAgainst commentsFor}}
    <main class="o-grid-container">
        <div class="o-grid-row">
            <div class="comments-against" data-o-grid-colspan="6">
                <h2>Against</h2>
                {{#if commentsAgainst}}
                {{>  components/comments/list class='comments_list' comments=commentsAgainst debateId=debateId  repliesOpen=true listStyleClass="basicWithColour" }}
                {{/if}}
            </div>
            <div class="comments-for" data-o-grid-colspan="6">
                <h2>For</h2>
                {{#if commentsFor}}
                {{> components/comments/list class='comments_list' comments=commentsFor debateId=debateId repliesOpen=true listStyleClass="basicWithColour" }}
                {{/if}}
            </div>
        </div>
    </main>
    {{/ifThisOrThat}}

    {{#if debateOpen}}
    {{#if votingOpen}}
    {{> components/voting/new debateId=debateId existingVote=existingVote voteOptions=voteOptions}}
    {{else}}
    {{> components/comments/new debateType=debateType debateId=debateId}}
    {{/if}}
    {{else}}
    {{> components/voting/results}}
    {{/if}}

    {{> footer type='basic' comments=true voting=true }}