{{> head title='Debate dashboard' subtitle='Admin section' }}
{{> admin/header }}
<main class="o-grid-container">
	<h1 class="admin-section">Debate</h1>
	<div class="o-grid-row">
		<section class="admin-content admin-debates-list">
			<span class="debate-type-tag">Debate type</span>
			<h2 class="debate-type">{{ debateTypeDisplayName }}</h2>
			<table class="list-debates o-table  o-table--row-stripes" data-o-component="o-table">
				<thead>
					<tr>
						<th scope="col" role="columnheader"> Title </th>
						<th scope="col" role="columnheader"> Status </th>
						<th scope="col" role="columnheader"> Voting </th>
						<th scope="col" role="columnheader"> Creation date </th>
					</tr>
				</thead>
				{{#if debatesByType.debates}}
				<tbody>
					{{#each debatesByType.debates}}
					<tr>
						<td>
							{{ this.title }}
						</td>
						<td>
							{{this.debateStatus}}
						</td>
						<td>
							{{this.votingStatus}}
						</td>
						<td>
							{{this.formatDate.readable}}
						</td>
						<td>
							<a href="/{{ this.id }}">view</a>
						</td>
						<td>
							<a href="/admin/debate/edit/{{ this.id }}">edit</a>
						</td>
					</tr>
					{{/each}}
				</tbody>
				{{else}}
				<tbody>
					<tr colspan=6>
						<td>
							No debates found for this type
						</td>
					</tr>
				</tbody>
				{{/if}}
			</table>
		</section>
	</div>
</main>

{{> footer type="admin"}}